# 嵌入式系统支持

> 嵌入式系统支持源码仓库：<https://github.com/ZJU-HelloWorld/HW-OS>

## 中间件（middlewares）

中间件主要包括通信服务等系统扩展，以及数据结构和其他基础支持，用于丰富系统对应用程序的支持。目前，计划实现以下模块：

**通信服务**

* 一套简洁的消息服务机制，针对机器人嵌入式开发中设备和任务、任务和任务间的通信需求，糅合 ROS 特性实现。

**设备管理**
  
* 管理 `I/O` 类型设备对象，为应用提供通用总线设备驱动接口。
  
**日志**

* 实时输出系统日志。

**Shell**

* 允许用户在上位机通过终端与嵌入式系统进行交互。

**数据存储** 

* 提供基于 Flash 读写的数据存储支持。

**通信协议**

* 提供自定义通信协议。


## 板级支持包（bsp）

设备驱动是板级支持包的主要内容，在 STM32CubeMX 生成的驱动包的基础上进行扩展，提供各类外设驱动支持，如 CAN 总线设备，SPI 总线设备等。

* 驱动是否启用的选项将与 HAL 库配置绑定。
* 调用一个初始化函数，便可初始化所有启用的驱动。
